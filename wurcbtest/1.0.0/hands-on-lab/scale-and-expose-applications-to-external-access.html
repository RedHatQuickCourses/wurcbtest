<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Scale and expose applications to external access :: Advanced Administration of Azure Red Hat OpenShift</title>
    <link rel="prev" href="explore-kubernetes-pod-and-service-networks.html">
    <link rel="next" href="externalize-application-configurations.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Advanced Administration of Azure Red Hat OpenShift</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="wurcbtest" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Advanced Administration of Azure Red Hat OpenShift</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../azure-red-hat-openshift-architecture-and-overview/azure-red-hat-openshift-architecture-and-overview.html">Azure Red Hat OpenShift Architecture and Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../azure-red-hat-openshift-architecture-and-overview/aro-platform-capabilities.html">ARO platform capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../azure-red-hat-openshift-architecture-and-overview/joint-engineering-operation-and-support-model.html">Joint engineering, operation, and support model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../azure-red-hat-openshift-architecture-and-overview/managed-control-plane-and-infrastructure.html">Managed control plane and infrastructure</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../aro-cluster-provisioning/aro-cluster-provisioning.html">ARO Cluster Provisioning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aro-cluster-provisioning/creating-an-azure-red-hat-openshift-cluster.html">Creating an Azure Red Hat OpenShift cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aro-cluster-provisioning/creating-a-private-azure-red-hat-openshift-cluster.html">Creating a private Azure Red Hat OpenShift cluster</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core-cluster-configuration/core-cluster-configuration.html">Core Cluster Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-cluster-configuration/configuring-additional-storage-classes.html">Configuring additional storage classes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-cluster-configuration/creating-dedicated-machine-sets.html">Creating dedicated machine sets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-cluster-configuration/configuring-node-autoscaling.html">Configuring node autoscaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-cluster-configuration/configuring-log-forwarding.html">Configuring log forwarding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-cluster-configuration/configuring-custom-dns-and-dns-forwarding.html">Configuring custom DNS and DNS forwarding</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../registry-integrations/registry-integrations.html">Registry Integrations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../registry-integrations/integrating-with-azure-container-registry-acr.html">Integrating with Azure Container Registry (ACR)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../registry-integrations/integrating-with-quay.html">Integrating with Quay</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../registry-integrations/using-the-internal-openshift-registry.html">Using the internal OpenShift registry</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cluster-application-data-management/cluster-application-data-management.html">Cluster Application Data Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cluster-application-data-management/backup-and-restore-of-cluster-applications-using-velero.html">Backup and restore of cluster applications using Velero</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../openshift-and-kubernetes-interfaces/openshift-and-kubernetes-interfaces.html">OpenShift and Kubernetes Interfaces</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../openshift-and-kubernetes-interfaces/navigating-the-openshift-web-console.html">Navigating the OpenShift Web Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../openshift-and-kubernetes-interfaces/utilizing-the-kubernetes-command-line-interface-cli.html">Utilizing the Kubernetes Command-line Interface (CLI)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../openshift-and-kubernetes-interfaces/utilizing-the-openshift-command-line-interface-cli.html">Utilizing the OpenShift Command-line Interface (CLI)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../troubleshooting-and-application-management/troubleshooting-and-application-management.html">Troubleshooting and Application Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-and-application-management/troubleshooting-containers-and-pods.html">Troubleshooting containers and pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting-and-application-management/managing-applications-using-the-kubernetes-workload-api.html">Managing applications using the Kubernetes Workload API</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kubernetes-networking-and-application-exposure/kubernetes-networking-and-application-exposure.html">Kubernetes Networking and Application Exposure</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kubernetes-networking-and-application-exposure/understanding-kubernetes-pod-and-service-networks.html">Understanding Kubernetes Pod and Service Networks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kubernetes-networking-and-application-exposure/scaling-and-exposing-applications-to-external-access.html">Scaling and exposing applications to external access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kubernetes-networking-and-application-exposure/externalizing-application-configurations.html">Externalizing application configurations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../network-security-policies/network-security-policies.html">Network Security Policies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-security-policies/configuring-network-policies.html">Configuring network policies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-security-policies/limiting-ingress-traffic.html">Limiting ingress traffic</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../gitops-for-cluster-administration/gitops-for-cluster-administration.html">GitOps for Cluster Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gitops-for-cluster-administration/implementing-openshift-gitops.html">Implementing OpenShift GitOps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gitops-for-cluster-administration/using-argocd-for-declarative-cluster-management.html">Using ArgoCD for declarative cluster management</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../multi-cluster-management/multi-cluster-management.html">Multi-Cluster Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../multi-cluster-management/overview-of-red-hat-advanced-cluster-management-rhacm.html">Overview of Red Hat Advanced Cluster Management (RHACM)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../multi-cluster-management/managing-kubernetes-clusters-with-rhacm.html">Managing Kubernetes clusters with RHACM</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../knowledge-share-and-discussions/knowledge-share-and-discussions.html">Knowledge Share and Discussions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../knowledge-share-and-discussions/integrating-azure-ad-with-openshift-oauth.html">Integrating Azure AD with OpenShift OAuth</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../knowledge-share-and-discussions/integrating-azure-key-vault-with-aro.html">Integrating Azure Key Vault with ARO</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../knowledge-share-and-discussions/differentiating-availability-sets-vs-availability-zones.html">Differentiating Availability Sets vs. Availability Zones</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../knowledge-share-and-discussions/understanding-azure-spot-instances.html">Understanding Azure Spot Instances</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../knowledge-share-and-discussions/exploring-hosted-control-planes.html">Exploring Hosted Control Planes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="hands-on-lab.html">Hands-on Lab</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-an-azure-red-hat-openshift-cluster.html">Create an Azure Red Hat OpenShift Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-additional-storage-classes.html">Configure additional storage classes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-dedicated-machine-sets.html">Create dedicated machine sets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-node-autoscaling.html">Configure node autoscaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-log-forwarding.html">Configure log forwarding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-a-private-azure-red-hat-openshift-cluster.html">Create a private Azure Red Hat OpenShift Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-custom-dns-and-dns-forwarding.html">Configure custom DNS and DNS forwarding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="implement-registry-integrations-with-aro.html">Implement registry integrations with ARO</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="perform-backup-and-restore-of-a-cluster-application-with-velero.html">Perform backup and restore of a cluster application with Velero</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshoot-containers-and-pods.html">Troubleshoot containers and pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manage-applications-using-the-kubernetes-workload-api.html">Manage applications using the Kubernetes Workload API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="explore-kubernetes-pod-and-service-networks.html">Explore Kubernetes Pod and Service Networks</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="scale-and-expose-applications-to-external-access.html">Scale and expose applications to external access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="externalize-application-configurations.html">Externalize application configurations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-network-policies-and-limit-ingress-traffic.html">Configure network policies and limit ingress traffic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="implement-gitops-for-cluster-administration.html">Implement GitOps for cluster administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manage-a-cluster-using-red-hat-advanced-cluster-management.html">Manage a cluster using Red Hat Advanced Cluster Management</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Advanced Administration of Azure Red Hat OpenShift</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Advanced Administration of Azure Red Hat OpenShift</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Advanced Administration of Azure Red Hat OpenShift</a></li>
    <li><a href="hands-on-lab.html">Hands-on Lab</a></li>
    <li><a href="scale-and-expose-applications-to-external-access.html">Scale and expose applications to external access</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Scale and expose applications to external access</h1>
<h1 id="_scale_and_expose_applications_to_external_access" class="sect0"><a class="anchor" href="#_scale_and_expose_applications_to_external_access"></a>Scale and expose applications to external access</h1>
<div class="paragraph">
<p>The ability to dynamically scale applications and expose them securely to external consumers is fundamental in a cloud-native environment like Azure Red Hat OpenShift (ARO). This section delves into how OpenShift handles both application scaling – ensuring your applications meet demand efficiently – and external access – making your services available outside the cluster.</p>
</div>
<div class="sect1">
<h2 id="_understanding_application_scaling_in_openshift"><a class="anchor" href="#_understanding_application_scaling_in_openshift"></a>Understanding Application Scaling in OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Application scaling in OpenShift refers to the process of adjusting the number of running instances (Pods) of an application based on demand. This ensures your application can handle varying workloads, preventing performance bottlenecks during peak times and reducing resource consumption during idle periods. OpenShift offers several mechanisms for scaling, with Horizontal Pod Autoscaling (HPA) being a common approach for traditional Kubernetes workloads and OpenShift Serverless (Knative) providing an event-driven, "scale-to-zero" capability.</p>
</div>
<div class="sect2">
<h3 id="_event_driven_scaling_with_openshift_serverless_knative"><a class="anchor" href="#_event_driven_scaling_with_openshift_serverless_knative"></a>Event-driven Scaling with OpenShift Serverless (Knative)</h3>
<div class="paragraph">
<p>OpenShift Serverless, powered by Knative, introduces powerful serverless capabilities to OpenShift, enabling applications to scale dynamically based on request traffic, even down to zero instances when idle. This approach is highly efficient for workloads that experience unpredictable or infrequent traffic.</p>
</div>
<div class="paragraph">
<p>A <strong>Knative Service</strong> is a resource that manages the entire lifecycle of your serverless application, from build to deployment and scaling. When you create a Knative Service, it automatically handles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Revision Management</strong>: Each configuration change to your service creates a new immutable <strong>revision</strong>. This allows for easy rollback and precise traffic management.</p>
</li>
<li>
<p><strong>Intelligent Routing and Traffic Management</strong>: Knative services allow sophisticated traffic mapping. Revisions of a service can be mapped to allocated portions of traffic. By default, the service route points all traffic to the latest ready revision, but you can define specific traffic splits between different revisions, which is invaluable for canary deployments or A/B testing. Knative also provides the option to create unique URLs for individual revisions, useful for testing new versions.</p>
</li>
<li>
<p><strong>Automatic Scaling</strong>: Knative observes incoming requests and automatically scales your application up or down. A key feature is its ability to scale down to zero Pods when the application is idle, consuming no resources. When a new request arrives, Knative rapidly scales up to one or more Pods to serve the request.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This "scale-to-zero" capability makes Knative an excellent choice for microservices, event-driven functions, and other workloads that benefit from cost savings during periods of inactivity.</p>
</div>
<div class="sect3">
<h4 id="_hands_on_activity_deploying_and_scaling_an_application_with_knative"><a class="anchor" href="#_hands_on_activity_deploying_and_scaling_an_application_with_knative"></a>Hands-on Activity: Deploying and Scaling an Application with Knative</h4>
<div class="paragraph">
<p>In this lab, you will deploy a simple web application using OpenShift Serverless (Knative) and observe its automatic scaling behavior.</p>
</div>
<div class="paragraph">
<div class="title">Objective</div>
<p>Deploy a Python application using OpenShift Serverless, monitor its build and scaling, and observe its "scale-to-zero" capability.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An active Azure Red Hat OpenShift cluster.</p>
</li>
<li>
<p><code>oc</code> CLI configured and logged in to your cluster.</p>
</li>
<li>
<p>Developer perspective in the OpenShift Web Console.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p><strong>Log in to the OpenShift Web Console</strong></p>
<div class="ulist">
<ul>
<li>
<p>Open your web browser and navigate to the OpenShift Web Console URL.</p>
</li>
<li>
<p>Log in using your credentials.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Create a New Project (if you don&#8217;t have one)</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the Developer perspective, click <strong>Projects</strong> &#8594; <strong>Create Project</strong>.</p>
</li>
<li>
<p>Enter <code>serverless-app-project</code> as the name and click <strong>Create</strong>.</p>
</li>
<li>
<p>Ensure you are in the <code>serverless-app-project</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Deploy a Sample Application using Knative Service</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the Developer perspective, click <strong>+Add</strong> in the left navigation panel.</p>
</li>
<li>
<p>Select <strong>From Git</strong>.</p>
</li>
<li>
<p>Enter the following Git repository URL: <code><a href="https://github.com/sclorg/s2i-python-container" class="bare">https://github.com/sclorg/s2i-python-container</a></code></p>
</li>
<li>
<p>For <strong>Builder Image</strong>, OpenShift should automatically detect Python.</p>
</li>
<li>
<p>Scroll down to <strong>Resources</strong>. Ensure that <code>Knative Service</code> is selected as the resource type to generate. This action creates a Knative Service, enabling OpenShift Serverless scaling to zero when idle.</p>
</li>
<li>
<p>At the bottom of the page, click <strong>Create</strong>. This creates resources to manage the build and deployment of the application. You will then be redirected to the topology overview for the project.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Monitor the Build Process</strong></p>
<div class="ulist">
<ul>
<li>
<p>From the <strong>Topology</strong> view, click on the application icon.</p>
</li>
<li>
<p>In the sidebar, navigate to the <strong>Resources</strong> tab.</p>
</li>
<li>
<p>Click on the <strong>Build</strong> associated with your application (e.g., <code>s2i-python-container-build-1</code>).</p>
</li>
<li>
<p>Monitor the build logs. The builder image, Python in this case, will inject the application source code into the final image before it pushes it to the OpenShift internal image registry. The build will have completed successfully when you see a final message of <code>"Push successful"</code>.</p>
</li>
<li>
<p>Once the build of the application image has completed, it will be deployed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Observe Scaling to Zero</strong></p>
<div class="ulist">
<ul>
<li>
<p>Return to the <strong>Topology</strong> view.</p>
</li>
<li>
<p>Wait for the deployment to complete. A green checkmark appears in the lower-left corner of the service when ready.</p>
</li>
<li>
<p>At the top of the <strong>Topology</strong> view, in the <strong>Display Options</strong> list, select <strong>Pod Count</strong>.</p>
</li>
<li>
<p>Wait for the Pod count to scale down to zero Pods. Scaling down might take a few minutes as Knative observes inactivity.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Access the Application and Observe Scaling Up</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the upper-right corner of the Knative Service panel (the ring representing your application in the Topology view), select the <strong>Open URL</strong> icon.</p>
</li>
<li>
<p>The application opens in a new browser tab, displaying "Hello S2I!" or similar content.</p>
</li>
<li>
<p>Close the tab and return to the <strong>Topology</strong> view in the OpenShift console.</p>
</li>
<li>
<p>There you can see that your application scaled up to one Pod to accommodate your request.</p>
</li>
<li>
<p>After a few minutes of inactivity, your application scales back down to zero Pods.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>(Optional) Force a New Revision and Set Traffic Distribution</strong></p>
<div class="ulist">
<ul>
<li>
<p>Knative services allow traffic mapping. With each service configuration update, a new revision is created.</p>
</li>
<li>
<p>To demonstrate, go to the <strong>Topology</strong> view, click on your Knative Service, and then go to the <strong>Resources</strong> tab.</p>
</li>
<li>
<p>Click on the <code>KnativeService</code> resource, then select the <strong>YAML</strong> tab.</p>
</li>
<li>
<p>Modify the <code>env</code> section or add a new environment variable to force a new revision. For example, add:
```yaml
spec:
  template:
    spec:
      containers:</p>
<div class="ulist">
<ul>
<li>
<p>image: image-registry.openshift-image-registry.svc:5000/serverless-app-project/s2i-python-container
env:</p>
</li>
<li>
<p>name: MESSAGE
              value: "Hello from Revised S2I!" # Add or modify this line
<code>`</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Save</strong>. A new revision will be deployed.</p>
</li>
<li>
<p>Once the new revision is ready, go back to the <strong>Topology</strong> view, click on your Knative Service, and select the <strong>Traffic</strong> tab in the sidebar.</p>
</li>
<li>
<p>You will see both revisions listed. You can now adjust the traffic percentage for each revision. For instance, you could split traffic 50/50 or route 100% to the new revision. This provides excellent control for staged rollouts.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exposing_applications_to_external_access_with_openshift_routes"><a class="anchor" href="#_exposing_applications_to_external_access_with_openshift_routes"></a>Exposing Applications to External Access with OpenShift Routes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While your applications run securely within the ARO cluster, they often need to be accessible from outside – by users, other services, or external systems. In OpenShift, the primary mechanism for exposing services externally is through <strong>Routes</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Routes</strong>: An OpenShift Route exposes a service at a host name, making it reachable from outside the cluster. When you define a Route, you specify the hostname and the service that the Route should forward traffic to. OpenShift&#8217;s built-in HAProxy-based router then handles the external ingress traffic and directs it to the appropriate Pods backing your service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Key features of OpenShift Routes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Load Balancing</strong>: Routes inherently provide load balancing across the Pods exposed by the target service.</p>
</li>
<li>
<p><strong>TLS Termination</strong>: Routes can terminate TLS (SSL) encryption, ensuring secure communication between external clients and your application, while offloading the encryption burden from your application Pods.</p>
</li>
<li>
<p><strong>Custom Hostnames</strong>: You can specify custom hostnames for your applications, making them user-friendly and domain-aligned.</p>
</li>
<li>
<p><strong>Path-based Routing</strong>: Routes support routing traffic based on URL paths, allowing a single hostname to serve multiple applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When an application is created via the OpenShift Web Console, especially from Git or a developer catalog item, a Route is often automatically created for the application, making it instantly accessible outside the cluster. The URL for this Route is typically visible in the application&#8217;s details or the Topology view.</p>
</div>
<div class="sect3">
<h4 id="_hands_on_activity_exposing_an_application_with_an_openshift_route"><a class="anchor" href="#_hands_on_activity_exposing_an_application_with_an_openshift_route"></a>Hands-on Activity: Exposing an Application with an OpenShift Route</h4>
<div class="paragraph">
<p>In this lab, you will deploy a simple web application and manually create an OpenShift Route to expose it to external access.</p>
</div>
<div class="paragraph">
<div class="title">Objective</div>
<p>Deploy a basic NGINX web server and expose it externally using an OpenShift Route.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An active Azure Red Hat OpenShift cluster.</p>
</li>
<li>
<p><code>oc</code> CLI configured and logged in to your cluster.</p>
</li>
<li>
<p>Developer perspective in the OpenShift Web Console.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p><strong>Log in to the OpenShift Web Console</strong></p>
<div class="ulist">
<ul>
<li>
<p>Open your web browser and navigate to the OpenShift Web Console URL.</p>
</li>
<li>
<p>Log in using your credentials.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Create a New Project (if you don&#8217;t have one)</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the Developer perspective, click <strong>Projects</strong> &#8594; <strong>Create Project</strong>.</p>
</li>
<li>
<p>Enter <code>exposed-app-project</code> as the name and click <strong>Create</strong>.</p>
</li>
<li>
<p>Ensure you are in the <code>exposed-app-project</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Deploy a Simple NGINX Application</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the Developer perspective, click <strong>+Add</strong> &#8594; <strong>YAML</strong> in the left navigation panel.</p>
</li>
<li>
<p>Paste the following YAML to create a Deployment and a Service for NGINX:
```yaml
apiVersion: apps.openshift.io/v1
kind: DeploymentConfig
metadata:
  name: nginx-app
  labels:
    app: nginx-app
spec:
  replicas: 1
  selector:
    app: nginx-app
  template:
    metadata:
      labels:
        app: nginx-app
    spec:
      containers:</p>
<div class="ulist">
<ul>
<li>
<p>name: nginx
image: registry.access.redhat.com/ubi8/nginx-118:1-35
ports:</p>
</li>
<li>
<p>containerPort: 8080
              protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
  labels:
    app: nginx-app
spec:
  selector:
    app: nginx-app
  ports:</p>
</li>
<li>
<p>protocol: TCP
      port: 80
      targetPort: 8080
  type: ClusterIP
<code>`</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Verify Application Deployment</strong></p>
<div class="ulist">
<ul>
<li>
<p>Go to the <strong>Topology</strong> view. You should see <code>nginx-app</code> deploying.</p>
</li>
<li>
<p>Wait for the deployment to complete (green checkmark).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Create an OpenShift Route to Expose the Service</strong></p>
<div class="ulist">
<ul>
<li>
<p>In the Developer perspective, click <strong>Networking</strong> &#8594; <strong>Routes</strong> in the left navigation panel.</p>
</li>
<li>
<p>Click <strong>Create Route</strong>.</p>
</li>
<li>
<p>Fill in the following details:</p>
</li>
<li>
<p><strong>Name</strong>: <code>nginx-route</code></p>
</li>
<li>
<p><strong>Hostname</strong>: (Leave blank to auto-generate, or provide a unique hostname if you have a custom DNS setup, e.g., <code>nginx.apps.&lt;your-cluster-domain&gt;</code>)</p>
</li>
<li>
<p><strong>Path</strong>: <code>/</code></p>
</li>
<li>
<p><strong>Service</strong>: Select <code>nginx-service</code> from the dropdown.</p>
</li>
<li>
<p><strong>Target Port</strong>: Select <code>80 (8080 &#8594; 8080)</code> from the dropdown.</p>
</li>
<li>
<p><strong>Security</strong>: You can enable TLS termination here if desired. For this lab, leave <strong>Secure route</strong> unchecked.</p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Access the Application Externally</strong></p>
<div class="ulist">
<ul>
<li>
<p>Once the Route is created, navigate back to the <strong>Routes</strong> list (<code>Networking</code> &#8594; <code>Routes</code>).</p>
</li>
<li>
<p>Find your <code>nginx-route</code> and copy the <strong>Location</strong> URL.</p>
</li>
<li>
<p>Paste the URL into your web browser. You should see the NGINX welcome page, confirming that your application is now accessible from outside the OpenShift cluster.</p>
</li>
<li>
<p>Alternatively, from the <strong>Topology</strong> view, click on your <code>nginx-app</code> and then click the <strong>Open URL</strong> icon (top-right of the ring) to access the application via the created Route.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="explore-kubernetes-pod-and-service-networks.html">Explore Kubernetes Pod and Service Networks</a></span>
  <span class="next"><a href="externalize-application-configurations.html">Externalize application configurations</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
